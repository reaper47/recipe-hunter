package scraper_test

import (
	"bytes"
	"github.com/google/go-cmp/cmp"
	"github.com/reaper47/recipya/internal/models"
	"github.com/reaper47/recipya/internal/scraper"
	"github.com/reaper47/recipya/internal/services"
	"io"
	"net/http"
	"testing"
)

type mockHTTPClient struct {
	DoFunc func(req *http.Request) (*http.Response, error)
}

func (m *mockHTTPClient) Do(req *http.Request) (*http.Response, error) {
	if m.DoFunc != nil {
		return m.DoFunc(req)
	}
	return nil, nil
}

func prepareSpecial(data []byte) (*scraper.Scraper, services.FilesService) {
	s := scraper.NewScraper(&mockHTTPClient{DoFunc: func(req *http.Request) (*http.Response, error) {
		return &http.Response{
			StatusCode: 200,
			Body:       io.NopCloser(bytes.NewReader(data)),
		}, nil
	}})
	f := services.NewFilesService()
	return s, f
}

func TestScraper_Bergamot(t *testing.T) {
	data := `{"id":210338,"shortId":"mIB4jYQtZU1A97","userId":585,"userFavorite":0,"sourceId":10,"sourceUrl":"https://www.elle.fr/Elle-a-Table/Recettes-de-cuisine/Soupe-miso-aux-oignons-nouveaux-tofu-et-saumon-emiette-4188650","lang":"","title":"Soupe miso aux oignons nouveaux, tofu et saumon émietté","description":"La soupe miso enrichie de saumon.","userNote":null,"ingredients":[{"data":["100 g de saumon frais","6 oignons nouveaux","30 g d'algues wakame séchées","70 g de pâte de miso blanc","quelques cives","300 g de tofu soyeux","1 cuillère(s) à soupe d'huile de sésame","1 cuillère(s) à soupe de graines de sésame"]}],"instructions":[{"data":["Dans une poêle bien chaude, faites cuire le saumon côté peau pendant 5 mn, puis laissez-le refroidir avant de l’émietter.","Dans une casserole, versez 1,5l d’eau, la moitié des oignons lavés et coupés en deux dans la hauteur, et les algues, puis portez à ébullition, réduisez ensuite le feu et laissez mijoter pendant 20 mn. Filtrez et ajoutez le miso, mélangez soigneusement.","Ajoutez le reste des oignons coupés en quatre, les cives lavées et émincées, le tofu coupé en dés et les miettes de saumon. Arrosez d’huile de sésame et parsemez de graines de sésame. Dégustez bien chaud."]}],"time":{"prepTime":20,"cookTime":null,"totalTime":50},"nutrition":{},"servings":4,"createdAt":"2024-01-16T16:16:24.000Z","updatedAt":"2024-01-16T16:16:24.000Z","deletedAt":null,"photos":[{"id":198989,"recipeId":210338,"reference":"210338PZAE79ER","order":0,"status":"uploaded","isUserUploaded":0,"sourceUrl":"https://resize.elle.fr/portrait_1280/var/plain_site/storage/images/elle-a-table/recettes-de-cuisine/soupe-miso-aux-oignons-nouveaux-tofu-et-saumon-emiette-4188650/101348896-2-fre-FR/Soupe-miso-aux-oignons-nouveaux-tofu-et-saumon-emiette.jpg","filenameExtension":"jpg","createdAt":"2024-01-16T16:16:24.000Z","updatedAt":"2024-01-16T16:16:24.000Z","deletedAt":null,"photoUrl":"https://aihkimhfpo.cloudimg.io/v7/foodbox/210338PZAE79ER.jpg?w=1280","photoThumbUrl":"https://aihkimhfpo.cloudimg.io/v7/foodbox/210338PZAE79ER.jpg?w=600&h=338"}],"sourceDomain":"elle.fr"}`
	s, f := prepareSpecial([]byte(data))

	got, err := s.Scrape("https://dashboard.bergamot.app/shared/mIB4jYQtZU1A97", f)
	if err != nil {
		t.Fatal(err)
	}

	want := models.RecipeSchema{
		AtContext:     "https://schema.org",
		AtType:        models.SchemaType{Value: "Recipe"},
		CookTime:      "PT30M",
		CookingMethod: models.CookingMethod{},
		Cuisine:       models.Cuisine{},
		DateCreated:   "2024-01-16",
		DateModified:  "2024-01-16",
		DatePublished: "2024-01-16",
		Description:   models.Description{Value: "La soupe miso enrichie de saumon."},
		Keywords:      models.Keywords{},
		Image: models.Image{
			Value: "https://aihkimhfpo.cloudimg.io/v7/foodbox/210338PZAE79ER.jpg?w=600&h=338",
		},
		Ingredients: models.Ingredients{
			Values: []string{
				"100 g de saumon frais",
				"6 oignons nouveaux",
				"30 g d'algues wakame séchées",
				"70 g de pâte de miso blanc",
				"quelques cives",
				"300 g de tofu soyeux",
				"1 cuillère(s) à soupe d'huile de sésame",
				"1 cuillère(s) à soupe de graines de sésame",
			},
		},
		Instructions: models.Instructions{
			Values: []string{
				"Dans une poêle bien chaude, faites cuire le saumon côté peau pendant 5 mn, puis laissez-le refroidir avant de l’émietter.",
				"Dans une casserole, versez 1,5l d’eau, la moitié des oignons lavés et coupés en deux dans la hauteur, et les algues, puis portez à ébullition, réduisez ensuite le feu et laissez mijoter pendant 20 mn. Filtrez et ajoutez le miso, mélangez soigneusement.",
				"Ajoutez le reste des oignons coupés en quatre, les cives lavées et émincées, le tofu coupé en dés et les miettes de saumon. Arrosez d’huile de sésame et parsemez de graines de sésame. Dégustez bien chaud.",
			},
		},
		Name:            "Soupe miso aux oignons nouveaux, tofu et saumon émietté",
		NutritionSchema: models.NutritionSchema{},
		PrepTime:        "PT20M",
		Tools:           models.Tools{},
		Yield:           models.Yield{Value: 4},
		URL:             "https://dashboard.bergamot.app/shared/mIB4jYQtZU1A97",
	}
	if !cmp.Equal(got, want) {
		t.Logf(cmp.Diff(got, want))
		t.Fatal()
	}
}

func TestScraper_Foodbag(t *testing.T) {
	data := "{\n\n  \"dishRecipe\": {\n\n    \"weeklyDishId\": \"4758c107-6d52-4cb2-89fc-b12b00b070ff\",\n\n    \"weekId\": \"7c4578c9-1966-4eef-b6d2-b12b00b06227\",\n\n    \"salesforceId\": \"a0vJv000004bkRNIAY\",\n\n    \"dishSalesforceId\": \"a0MJv000002YcOHMA0\",\n\n    \"name\": \"Mac 'n cheese\",\n\n    \"subtitle\": \"met gehakt en pompoen\",\n\n    \"description\": \"Deze week neem ik je nog een keertje mee op skivakantie! Of toch naar de après-ski maaltijd. De pompoenblokjes zijn al voorgesneden en mixen we door de saus. Daardoor kleurt die ook mooi oranje!\",\n\n    \"imageUrl1\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1MJv000000YqYrMAK_920x920.jpg\",\n\n    \"imageUrl2\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1MJv000000YqYrMAK_original.jpg\",\n\n    \"supplementaryAmount\": 0.0,\n\n    \"totalTime\": \"0\",\n\n    \"specialText\": null,\n\n    \"secondaryTagIds\": [\n\n      \"9c9f5b16-d2f5-412d-ba49-b12b00b03a85\",\n\n      \"57ce1aaa-f884-4df1-b04c-b12b00b03a85\",\n\n      \"01f96657-17a9-4d7b-a68a-b12b00b03a85\",\n\n      \"cc2e63a6-8cc4-481a-a07e-b12b00b03a85\",\n\n      \"852de838-0c14-4915-b845-b12b00b03a85\",\n\n      \"b78bb729-a662-4f2d-b86d-b12b00b03a85\",\n\n      \"6b73dbe2-ffed-4981-bd99-b12b00b03a85\",\n\n      \"a4b3f457-251d-41f4-89ff-b12b00b03a85\",\n\n      \"667f6d68-8de1-4f97-9458-b12b00b03a85\",\n\n      \"05e4b271-cd4e-418a-9636-b12b00b03a85\",\n\n      \"423389c3-d3da-4533-b50f-b12b00b03a85\",\n\n      \"66d5d5f9-0948-4556-bfbc-b12b00b03a85\"\n\n    ],\n\n    \"optionalTag\": \"Ski special\",\n\n    \"tertiaryTagImageUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1M1n000008wBw8EAE_original.jpg\",\n\n    \"dishVariants\": [\n\n      {\n\n        \"numberOfPersons\": 4,\n\n        \"preparationTime\": 10,\n\n        \"cookingTime\": 30,\n\n        \"totalTime\": 40,\n\n        \"isSoldOut\": false,\n\n        \"ultraFresh\": false,\n\n        \"microwaveTime\": 0,\n\n        \"ingredients\": [\n\n          {\n\n            \"id\": \"3e13edab-c966-4057-a45c-b12b00b03bbc\",\n\n            \"name\": \"zout en zwarte peper\",\n\n            \"size\": \"\",\n\n            \"isBasic\": true,\n\n            \"organic\": false,\n\n            \"imgUrl\": null,\n\n            \"allergies\": null,\n\n            \"ingredientAllergensIcons\": null,\n\n            \"quantity\": null\n\n          },\n\n          {\n\n            \"id\": \"6f04b7d8-9415-435a-ae0b-b12b00b03bbc\",\n\n            \"name\": \"tortiglioni pasta\",\n\n            \"size\": \"g\",\n\n            \"isBasic\": false,\n\n            \"organic\": false,\n\n            \"imgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1MJv0000000Jx7MAE_280x280.jpg\",\n\n            \"allergies\": \"gluten\",\n\n            \"ingredientAllergensIcons\": [\n\n              {\n\n                \"iconName\": \"gluten\",\n\n                \"allergenName\": \"gluten\"\n\n              }\n\n            ],\n\n            \"quantity\": \"400\"\n\n          },\n\n          {\n\n            \"id\": \"6d317d88-ff25-4058-8fa9-b12b00b03bbc\",\n\n            \"name\": \"pompoenblokjes\",\n\n            \"size\": \"g\",\n\n            \"isBasic\": false,\n\n            \"organic\": false,\n\n            \"imgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1MJv000000I15hMAC_280x280.jpg\",\n\n            \"allergies\": null,\n\n            \"ingredientAllergensIcons\": null,\n\n            \"quantity\": \"800\"\n\n          },\n\n          {\n\n            \"id\": \"bf790e44-34d2-4c5f-935c-b12b00b03bbc\",\n\n            \"name\": \"olijfolie\",\n\n            \"size\": \"\",\n\n            \"isBasic\": true,\n\n            \"organic\": false,\n\n            \"imgUrl\": null,\n\n            \"allergies\": null,\n\n            \"ingredientAllergensIcons\": null,\n\n            \"quantity\": null\n\n          },\n\n          {\n\n            \"id\": \"8bea31b6-8527-4bc1-9328-b12b00b03bbc\",\n\n            \"name\": \"knoflook\",\n\n            \"size\": \"teentjes\",\n\n            \"isBasic\": false,\n\n            \"organic\": false,\n\n            \"imgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1MJv0000001sPmMAI_280x280.jpg\",\n\n            \"allergies\": null,\n\n            \"ingredientAllergensIcons\": null,\n\n            \"quantity\": \"2\"\n\n          },\n\n          {\n\n            \"id\": \"56320c0a-d3c5-4cd9-be8d-b12b00b03bbc\",\n\n            \"name\": \"geraspte cheddar\",\n\n            \"size\": \"g\",\n\n            \"isBasic\": false,\n\n            \"organic\": false,\n\n            \"imgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1MJv000000JXoHMAW_280x280.jpg\",\n\n            \"allergies\": \"melk\",\n\n            \"ingredientAllergensIcons\": [\n\n              {\n\n                \"iconName\": \"milk\",\n\n                \"allergenName\": \"melk\"\n\n              }\n\n            ],\n\n            \"quantity\": \"125\"\n\n          },\n\n          {\n\n            \"id\": \"8011f45f-1990-4f82-8f69-b12b00b03bbc\",\n\n            \"name\": \"gemengd gehakt (rund/varken)\",\n\n            \"size\": \"g\",\n\n            \"isBasic\": false,\n\n            \"organic\": false,\n\n            \"imgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1MJv000000Hbj7MAC_280x280.jpg\",\n\n            \"allergies\": null,\n\n            \"ingredientAllergensIcons\": null,\n\n            \"quantity\": \"600\"\n\n          },\n\n          {\n\n            \"id\": \"7ec89bde-6c98-499d-834a-b12b00b03bbc\",\n\n            \"name\": \"bio zure room\",\n\n            \"size\": \"g\",\n\n            \"isBasic\": false,\n\n            \"organic\": true,\n\n            \"imgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1M1n000008wApIEAU_280x280.jpg\",\n\n            \"allergies\": \"melk\",\n\n            \"ingredientAllergensIcons\": [\n\n              {\n\n                \"iconName\": \"milk\",\n\n                \"allergenName\": \"melk\"\n\n              }\n\n            ],\n\n            \"quantity\": \"300\"\n\n          },\n\n          {\n\n            \"id\": \"2523b165-7fe8-498f-b83f-b12b00b03bbc\",\n\n            \"name\": \"bakpapier\",\n\n            \"size\": \"\",\n\n            \"isBasic\": true,\n\n            \"organic\": false,\n\n            \"imgUrl\": null,\n\n            \"allergies\": null,\n\n            \"ingredientAllergensIcons\": null,\n\n            \"quantity\": null\n\n          }\n\n        ],\n\n        \"allergies\": \"gluten, melk\",\n\n        \"recipeFilename\": \"a0MJv000002YcOHMA0-NL-4P.pdf\",\n\n        \"recipeFriendlyFilename\": \"Mac 'n cheese-4P.pdf\",\n\n        \"supplierTitle\": \"Dekeyser-Ossaer\",\n\n        \"supplierImgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1M1n000008wCYWEA2_920x920.jpg\",\n\n        \"supplierSubtitle\": \"Een warme familie\",\n\n        \"supplierText\": \"Dekeyzer-Ossaer startte in 1980 met een kleine slagerij in Koekelare. Vandaag bouwen ouders Johan en Marie-Rose samen met hun zonen Kurt, Stijn, Steven en Kevin dag in dag uit verder aan een groots verhaal waarbij duurzaamheid, innovatie en lokale productie centraal staan. Dagvers vlees van de beste kwaliteit, dat proef je!\",\n\n        \"directions\": \"Breng een ruime pot gezouten water aan de kook voor de pasta.|Verwarm de oven voor op 220°C en bedek een bakplaat met bakpapier.|Schik de pompoenblokjes op de bakplaat en pers de knoflook erbij. Hussel door elkaar met olijfolie, zout en zwarte peper. Rooster in 20 min. gaar in de oven.|Verhit een scheutje olijfolie in een pan op hoog vuur. Bak het gehakt in 6-8 min. Prak met een spatel in \\\"chunks\\\", het hoeft niet helemaal fijn te zijn.|Kook de pasta volgens de instructies op de verpakking.|Schik de geroosterde pompoen in een blender of maatbeker en mix, samen met de zure room en de helft van de geraspte cheddar, tot een gladde saus. Proef en breng op smaak met extra zout of zwarte peper (zie tip).|Giet de pasta af en schik opnieuw in de pot. Meng met de roomsaus en het gehakt. Stort in een ovenschaal en strooi de rest van de kaas erover. Gratineer nog 5-10 min. in de oven voor een mooi kaaskorstje.\",\n\n        \"tip\": \"Geef de saus wat extra punch met paprikapoeder, chilivlokken of bouillon.\",\n\n        \"allergiesSummary\": \"Bevat gluten, melk\"\n\n      },\n\n      {\n\n        \"numberOfPersons\": 1,\n\n        \"preparationTime\": 10,\n\n        \"cookingTime\": 20,\n\n        \"totalTime\": 30,\n\n        \"isSoldOut\": false,\n\n        \"ultraFresh\": false,\n\n        \"microwaveTime\": 0,\n\n        \"ingredients\": [\n\n          {\n\n            \"id\": \"0637c7e9-d7f5-4941-8958-b12b00b03bbc\",\n\n            \"name\": \"zout en zwarte peper\",\n\n            \"size\": \"\",\n\n            \"isBasic\": true,\n\n            \"organic\": false,\n\n            \"imgUrl\": null,\n\n            \"allergies\": null,\n\n            \"ingredientAllergensIcons\": null,\n\n            \"quantity\": null\n\n          },\n\n          {\n\n            \"id\": \"2977a2bc-1b4c-4346-ac32-b12b00b03bbc\",\n\n            \"name\": \"tortiglioni pasta\",\n\n            \"size\": \"g\",\n\n            \"isBasic\": false,\n\n            \"organic\": false,\n\n            \"imgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1MJv0000000Jx7MAE_280x280.jpg\",\n\n            \"allergies\": \"gluten\",\n\n            \"ingredientAllergensIcons\": [\n\n              {\n\n                \"iconName\": \"gluten\",\n\n                \"allergenName\": \"gluten\"\n\n              }\n\n            ],\n\n            \"quantity\": \"100\"\n\n          },\n\n          {\n\n            \"id\": \"b3bb35a1-c527-41e6-9f0c-b12b00b03bbc\",\n\n            \"name\": \"pompoenblokjes\",\n\n            \"size\": \"g\",\n\n            \"isBasic\": false,\n\n            \"organic\": false,\n\n            \"imgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1M1n000008wBdkEAE_280x280.jpg\",\n\n            \"allergies\": null,\n\n            \"ingredientAllergensIcons\": null,\n\n            \"quantity\": \"200\"\n\n          },\n\n          {\n\n            \"id\": \"d6c86d1f-7fcc-458b-806f-b12b00b03bbc\",\n\n            \"name\": \"olijfolie\",\n\n            \"size\": \"\",\n\n            \"isBasic\": true,\n\n            \"organic\": false,\n\n            \"imgUrl\": null,\n\n            \"allergies\": null,\n\n            \"ingredientAllergensIcons\": null,\n\n            \"quantity\": null\n\n          },\n\n          {\n\n            \"id\": \"ae9d8dea-1f49-4e00-9081-b12b00b03bbc\",\n\n            \"name\": \"knoflook\",\n\n            \"size\": \"teentje\",\n\n            \"isBasic\": false,\n\n            \"organic\": false,\n\n            \"imgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1MJv0000001sPmMAI_280x280.jpg\",\n\n            \"allergies\": null,\n\n            \"ingredientAllergensIcons\": null,\n\n            \"quantity\": \"1\"\n\n          },\n\n          {\n\n            \"id\": \"aa4658f9-c974-489a-a1e8-b12b00b03bbc\",\n\n            \"name\": \"geraspte cheddar\",\n\n            \"size\": \"g\",\n\n            \"isBasic\": false,\n\n            \"organic\": false,\n\n            \"imgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1MJv000000JXoHMAW_280x280.jpg\",\n\n            \"allergies\": \"melk\",\n\n            \"ingredientAllergensIcons\": [\n\n              {\n\n                \"iconName\": \"milk\",\n\n                \"allergenName\": \"melk\"\n\n              }\n\n            ],\n\n            \"quantity\": \"50\"\n\n          },\n\n          {\n\n            \"id\": \"a0762015-b8d1-45db-b2b6-b12b00b03bbc\",\n\n            \"name\": \"gemengd gehakt (rund/varken)\",\n\n            \"size\": \"g\",\n\n            \"isBasic\": false,\n\n            \"organic\": false,\n\n            \"imgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1MJv000000Hbb3MAC_280x280.jpg\",\n\n            \"allergies\": null,\n\n            \"ingredientAllergensIcons\": null,\n\n            \"quantity\": \"150\"\n\n          },\n\n          {\n\n            \"id\": \"a99c3ac8-1b9d-4ff4-9233-b12b00b03bbc\",\n\n            \"name\": \"bio zure room\",\n\n            \"size\": \"g\",\n\n            \"isBasic\": false,\n\n            \"organic\": true,\n\n            \"imgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1M1n000008wApIEAU_280x280.jpg\",\n\n            \"allergies\": \"melk\",\n\n            \"ingredientAllergensIcons\": [\n\n              {\n\n                \"iconName\": \"milk\",\n\n                \"allergenName\": \"melk\"\n\n              }\n\n            ],\n\n            \"quantity\": \"100\"\n\n          },\n\n          {\n\n            \"id\": \"c38d0bda-c922-48f1-b8a1-b12b00b03bbc\",\n\n            \"name\": \"bakpapier\",\n\n            \"size\": \"\",\n\n            \"isBasic\": true,\n\n            \"organic\": false,\n\n            \"imgUrl\": null,\n\n            \"allergies\": null,\n\n            \"ingredientAllergensIcons\": null,\n\n            \"quantity\": null\n\n          }\n\n        ],\n\n        \"allergies\": \"gluten, melk\",\n\n        \"recipeFilename\": \"a0MJv000002YcOHMA0-NL-1P.pdf\",\n\n        \"recipeFriendlyFilename\": \"Mac 'n cheese-1P.pdf\",\n\n        \"supplierTitle\": \"Dekeyser-Ossaer\",\n\n        \"supplierImgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1M1n000008wCYWEA2_920x920.jpg\",\n\n        \"supplierSubtitle\": \"Een warme familie\",\n\n        \"supplierText\": \"Dekeyzer-Ossaer startte in 1980 met een kleine slagerij in Koekelare. Vandaag bouwen ouders Johan en Marie-Rose samen met hun zonen Kurt, Stijn, Steven en Kevin dag in dag uit verder aan een groots verhaal waarbij duurzaamheid, innovatie en lokale productie centraal staan. Dagvers vlees van de beste kwaliteit, dat proef je!\",\n\n        \"directions\": \"Breng een ruime pot gezouten water aan de kook voor de pasta.|Verwarm de oven voor op 220°C en bedek een bakplaat met bakpapier.|Schik de pompoenblokjes op de bakplaat en pers de knoflook erbij. Hussel door elkaar met olijfolie, zout en zwarte peper. Rooster in 20 min. gaar in de oven.|Verhit een scheutje olijfolie in een pan op hoog vuur. Bak het gehakt in 6-8 min. Prak met een spatel in \\\"chunks\\\", het hoeft niet helemaal fijn te zijn.|Kook de pasta volgens de instructies op de verpakking.|Schik de geroosterde pompoen in een blender of maatbeker en mix, samen met de zure room en de helft van de geraspte cheddar, tot een gladde saus. Proef en breng op smaak met extra zout of zwarte peper (zie tip).|Giet de pasta af en schik opnieuw in de pot. Meng met de roomsaus en het gehakt. Stort in een ovenschaal en strooi de rest van de kaas erover. Gratineer nog 5-10 min. in de oven voor een mooi kaaskorstje.\",\n\n        \"tip\": \"Geef de saus wat extra punch met paprikapoeder, chilivlokken of bouillon.\",\n\n        \"allergiesSummary\": \"Bevat gluten, melk\"\n\n      },\n\n      {\n\n        \"numberOfPersons\": 3,\n\n        \"preparationTime\": 10,\n\n        \"cookingTime\": 25,\n\n        \"totalTime\": 35,\n\n        \"isSoldOut\": false,\n\n        \"ultraFresh\": false,\n\n        \"microwaveTime\": 0,\n\n        \"ingredients\": [\n\n          {\n\n            \"id\": \"a6e10874-32e9-4021-8cae-b12b00b03bbc\",\n\n            \"name\": \"zout en zwarte peper\",\n\n            \"size\": \"\",\n\n            \"isBasic\": true,\n\n            \"organic\": false,\n\n            \"imgUrl\": null,\n\n            \"allergies\": null,\n\n            \"ingredientAllergensIcons\": null,\n\n            \"quantity\": null\n\n          },\n\n          {\n\n            \"id\": \"74dbe3bc-6b8e-40f3-be21-b12b00b03bbc\",\n\n            \"name\": \"tortiglioni pasta\",\n\n            \"size\": \"g\",\n\n            \"isBasic\": false,\n\n            \"organic\": false,\n\n            \"imgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1MJv0000000Jx7MAE_280x280.jpg\",\n\n            \"allergies\": \"gluten\",\n\n            \"ingredientAllergensIcons\": [\n\n              {\n\n                \"iconName\": \"gluten\",\n\n                \"allergenName\": \"gluten\"\n\n              }\n\n            ],\n\n            \"quantity\": \"300\"\n\n          },\n\n          {\n\n            \"id\": \"5ef311e8-7051-419e-bd09-b12b00b03bbc\",\n\n            \"name\": \"pompoenblokjes\",\n\n            \"size\": \"g\",\n\n            \"isBasic\": false,\n\n            \"organic\": false,\n\n            \"imgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1M1n000008wBdkEAE_280x280.jpg\",\n\n            \"allergies\": null,\n\n            \"ingredientAllergensIcons\": null,\n\n            \"quantity\": \"600\"\n\n          },\n\n          {\n\n            \"id\": \"2af84df3-36f9-43c0-9cc9-b12b00b03bbc\",\n\n            \"name\": \"olijfolie\",\n\n            \"size\": \"\",\n\n            \"isBasic\": true,\n\n            \"organic\": false,\n\n            \"imgUrl\": null,\n\n            \"allergies\": null,\n\n            \"ingredientAllergensIcons\": null,\n\n            \"quantity\": null\n\n          },\n\n          {\n\n            \"id\": \"4a96cb75-5e2e-4cc1-b3ce-b12b00b03bbc\",\n\n            \"name\": \"knoflook\",\n\n            \"size\": \"teentjes\",\n\n            \"isBasic\": false,\n\n            \"organic\": false,\n\n            \"imgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1MJv0000001sPmMAI_280x280.jpg\",\n\n            \"allergies\": null,\n\n            \"ingredientAllergensIcons\": null,\n\n            \"quantity\": \"2\"\n\n          },\n\n          {\n\n            \"id\": \"9bf3a43b-f15b-4850-842b-b12b00b03bbc\",\n\n            \"name\": \"geraspte cheddar\",\n\n            \"size\": \"g\",\n\n            \"isBasic\": false,\n\n            \"organic\": false,\n\n            \"imgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1MJv000000JXoHMAW_280x280.jpg\",\n\n            \"allergies\": \"melk\",\n\n            \"ingredientAllergensIcons\": [\n\n              {\n\n                \"iconName\": \"milk\",\n\n                \"allergenName\": \"melk\"\n\n              }\n\n            ],\n\n            \"quantity\": \"100\"\n\n          },\n\n          {\n\n            \"id\": \"032fb84c-0f2e-4d2f-b91e-b12b00b03bbc\",\n\n            \"name\": \"gemengd gehakt (rund/varken)\",\n\n            \"size\": \"g\",\n\n            \"isBasic\": false,\n\n            \"organic\": false,\n\n            \"imgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1MJv000000HbftMAC_280x280.jpg\",\n\n            \"allergies\": null,\n\n            \"ingredientAllergensIcons\": null,\n\n            \"quantity\": \"450\"\n\n          },\n\n          {\n\n            \"id\": \"15cba202-80ca-4ff6-86e9-b12b00b03bbc\",\n\n            \"name\": \"bio zure room\",\n\n            \"size\": \"g\",\n\n            \"isBasic\": false,\n\n            \"organic\": true,\n\n            \"imgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1M1n000008wApIEAU_280x280.jpg\",\n\n            \"allergies\": \"melk\",\n\n            \"ingredientAllergensIcons\": [\n\n              {\n\n                \"iconName\": \"milk\",\n\n                \"allergenName\": \"melk\"\n\n              }\n\n            ],\n\n            \"quantity\": \"200\"\n\n          },\n\n          {\n\n            \"id\": \"2f0f8c46-7159-4817-a48e-b12b00b03bbc\",\n\n            \"name\": \"bakpapier\",\n\n            \"size\": \"\",\n\n            \"isBasic\": true,\n\n            \"organic\": false,\n\n            \"imgUrl\": null,\n\n            \"allergies\": null,\n\n            \"ingredientAllergensIcons\": null,\n\n            \"quantity\": null\n\n          }\n\n        ],\n\n        \"allergies\": \"gluten, melk\",\n\n        \"recipeFilename\": \"a0MJv000002YcOHMA0-NL-3P.pdf\",\n\n        \"recipeFriendlyFilename\": \"Mac 'n cheese-3P.pdf\",\n\n        \"supplierTitle\": \"Dekeyser-Ossaer\",\n\n        \"supplierImgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1M1n000008wCYWEA2_920x920.jpg\",\n\n        \"supplierSubtitle\": \"Een warme familie\",\n\n        \"supplierText\": \"Dekeyzer-Ossaer startte in 1980 met een kleine slagerij in Koekelare. Vandaag bouwen ouders Johan en Marie-Rose samen met hun zonen Kurt, Stijn, Steven en Kevin dag in dag uit verder aan een groots verhaal waarbij duurzaamheid, innovatie en lokale productie centraal staan. Dagvers vlees van de beste kwaliteit, dat proef je!\",\n\n        \"directions\": \"Breng een ruime pot gezouten water aan de kook voor de pasta.|Verwarm de oven voor op 220°C en bedek een bakplaat met bakpapier.|Schik de pompoenblokjes op de bakplaat en pers de knoflook erbij. Hussel door elkaar met olijfolie, zout en zwarte peper. Rooster in 20 min. gaar in de oven.|Verhit een scheutje olijfolie in een pan op hoog vuur. Bak het gehakt in 6-8 min. Prak met een spatel in \\\"chunks\\\", het hoeft niet helemaal fijn te zijn.|Kook de pasta volgens de instructies op de verpakking.|Schik de geroosterde pompoen in een blender of maatbeker en mix, samen met de zure room en de helft van de geraspte cheddar, tot een gladde saus. Proef en breng op smaak met extra zout of zwarte peper (zie tip).|Giet de pasta af en schik opnieuw in de pot. Meng met de roomsaus en het gehakt. Stort in een ovenschaal en strooi de rest van de kaas erover. Gratineer nog 5-10 min. in de oven voor een mooi kaaskorstje.\",\n\n        \"tip\": \"Geef de saus wat extra punch met paprikapoeder, chilivlokken of bouillon.\",\n\n        \"allergiesSummary\": \"Bevat gluten, melk\"\n\n      },\n\n      {\n\n        \"numberOfPersons\": 5,\n\n        \"preparationTime\": 10,\n\n        \"cookingTime\": 30,\n\n        \"totalTime\": 40,\n\n        \"isSoldOut\": false,\n\n        \"ultraFresh\": false,\n\n        \"microwaveTime\": 0,\n\n        \"ingredients\": [\n\n          {\n\n            \"id\": \"3c8205d5-686a-4880-95aa-b12b00b03bbc\",\n\n            \"name\": \"zout en zwarte peper\",\n\n            \"size\": \"\",\n\n            \"isBasic\": true,\n\n            \"organic\": false,\n\n            \"imgUrl\": null,\n\n            \"allergies\": null,\n\n            \"ingredientAllergensIcons\": null,\n\n            \"quantity\": null\n\n          },\n\n          {\n\n            \"id\": \"eb02d456-1eac-4f38-86ab-b12b00b03bbc\",\n\n            \"name\": \"tortiglioni pasta\",\n\n            \"size\": \"g\",\n\n            \"isBasic\": false,\n\n            \"organic\": false,\n\n            \"imgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1MJv0000000Jx7MAE_280x280.jpg\",\n\n            \"allergies\": \"gluten\",\n\n            \"ingredientAllergensIcons\": [\n\n              {\n\n                \"iconName\": \"gluten\",\n\n                \"allergenName\": \"gluten\"\n\n              }\n\n            ],\n\n            \"quantity\": \"500\"\n\n          },\n\n          {\n\n            \"id\": \"0e8dffe0-4893-4e3f-97d7-b12b00b03bbc\",\n\n            \"name\": \"pompoenblokjes\",\n\n            \"size\": \"g\",\n\n            \"isBasic\": false,\n\n            \"organic\": false,\n\n            \"imgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1M1n000008wBdkEAE_280x280.jpg\",\n\n            \"allergies\": null,\n\n            \"ingredientAllergensIcons\": null,\n\n            \"quantity\": \"1000\"\n\n          },\n\n          {\n\n            \"id\": \"02509349-7135-463d-a6c6-b12b00b03bbc\",\n\n            \"name\": \"olijfolie\",\n\n            \"size\": \"\",\n\n            \"isBasic\": true,\n\n            \"organic\": false,\n\n            \"imgUrl\": null,\n\n            \"allergies\": null,\n\n            \"ingredientAllergensIcons\": null,\n\n            \"quantity\": null\n\n          },\n\n          {\n\n            \"id\": \"6760ef28-1222-4d03-ace4-b12b00b03bbc\",\n\n            \"name\": \"knoflook\",\n\n            \"size\": \"teentjes\",\n\n            \"isBasic\": false,\n\n            \"organic\": false,\n\n            \"imgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1MJv0000001sPmMAI_280x280.jpg\",\n\n            \"allergies\": null,\n\n            \"ingredientAllergensIcons\": null,\n\n            \"quantity\": \"2\"\n\n          },\n\n          {\n\n            \"id\": \"1d654120-a6a0-43bd-b88d-b12b00b03bbc\",\n\n            \"name\": \"geraspte cheddar\",\n\n            \"size\": \"g\",\n\n            \"isBasic\": false,\n\n            \"organic\": false,\n\n            \"imgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1MJv000000JXoHMAW_280x280.jpg\",\n\n            \"allergies\": \"melk\",\n\n            \"ingredientAllergensIcons\": [\n\n              {\n\n                \"iconName\": \"milk\",\n\n                \"allergenName\": \"melk\"\n\n              }\n\n            ],\n\n            \"quantity\": \"150\"\n\n          },\n\n          {\n\n            \"id\": \"0bcf7607-463c-4fe3-a47a-b12b00b03bbc\",\n\n            \"name\": \"gemengd gehakt (rund/varken)\",\n\n            \"size\": \"g\",\n\n            \"isBasic\": false,\n\n            \"organic\": false,\n\n            \"imgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1MJv000000HbkjMAC_280x280.jpg\",\n\n            \"allergies\": null,\n\n            \"ingredientAllergensIcons\": null,\n\n            \"quantity\": \"750\"\n\n          },\n\n          {\n\n            \"id\": \"b635b0e2-e95c-46b2-9e57-b12b00b03bbc\",\n\n            \"name\": \"bio zure room\",\n\n            \"size\": \"g\",\n\n            \"isBasic\": false,\n\n            \"organic\": true,\n\n            \"imgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1M1n000008wApIEAU_280x280.jpg\",\n\n            \"allergies\": \"melk\",\n\n            \"ingredientAllergensIcons\": [\n\n              {\n\n                \"iconName\": \"milk\",\n\n                \"allergenName\": \"melk\"\n\n              }\n\n            ],\n\n            \"quantity\": \"400\"\n\n          },\n\n          {\n\n            \"id\": \"2f1a2010-5e08-4ae3-941d-b12b00b03bbc\",\n\n            \"name\": \"bakpapier\",\n\n            \"size\": \"\",\n\n            \"isBasic\": true,\n\n            \"organic\": false,\n\n            \"imgUrl\": null,\n\n            \"allergies\": null,\n\n            \"ingredientAllergensIcons\": null,\n\n            \"quantity\": null\n\n          }\n\n        ],\n\n        \"allergies\": \"gluten, melk\",\n\n        \"recipeFilename\": \"a0MJv000002YcOHMA0-NL-5P.pdf\",\n\n        \"recipeFriendlyFilename\": \"Mac 'n cheese-5P.pdf\",\n\n        \"supplierTitle\": \"Dekeyser-Ossaer\",\n\n        \"supplierImgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1M1n000008wCYWEA2_920x920.jpg\",\n\n        \"supplierSubtitle\": \"Een warme familie\",\n\n        \"supplierText\": \"Dekeyzer-Ossaer startte in 1980 met een kleine slagerij in Koekelare. Vandaag bouwen ouders Johan en Marie-Rose samen met hun zonen Kurt, Stijn, Steven en Kevin dag in dag uit verder aan een groots verhaal waarbij duurzaamheid, innovatie en lokale productie centraal staan. Dagvers vlees van de beste kwaliteit, dat proef je!\",\n\n        \"directions\": \"Breng een ruime pot gezouten water aan de kook voor de pasta.|Verwarm de oven voor op 220°C en bedek een bakplaat met bakpapier.|Schik de pompoenblokjes op de bakplaat en pers de knoflook erbij. Hussel door elkaar met olijfolie, zout en zwarte peper. Rooster in 20 min. gaar in de oven.|Verhit een scheutje olijfolie in een pan op hoog vuur. Bak het gehakt in 6-8 min. Prak met een spatel in \\\"chunks\\\", het hoeft niet helemaal fijn te zijn.|Kook de pasta volgens de instructies op de verpakking.|Schik de geroosterde pompoen in een blender of maatbeker en mix, samen met de zure room en de helft van de geraspte cheddar, tot een gladde saus. Proef en breng op smaak met extra zout of zwarte peper (zie tip).|Giet de pasta af en schik opnieuw in de pot. Meng met de roomsaus en het gehakt. Stort in een ovenschaal en strooi de rest van de kaas erover. Gratineer nog 5-10 min. in de oven voor een mooi kaaskorstje.\",\n\n        \"tip\": \"Geef de saus wat extra punch met paprikapoeder, chilivlokken of bouillon.\",\n\n        \"allergiesSummary\": \"Bevat gluten, melk\"\n\n      },\n\n      {\n\n        \"numberOfPersons\": 2,\n\n        \"preparationTime\": 10,\n\n        \"cookingTime\": 20,\n\n        \"totalTime\": 30,\n\n        \"isSoldOut\": false,\n\n        \"ultraFresh\": false,\n\n        \"microwaveTime\": 0,\n\n        \"ingredients\": [\n\n          {\n\n            \"id\": \"682f730a-4451-4e74-b386-b12b00b03bbc\",\n\n            \"name\": \"zout en zwarte peper\",\n\n            \"size\": \"\",\n\n            \"isBasic\": true,\n\n            \"organic\": false,\n\n            \"imgUrl\": null,\n\n            \"allergies\": null,\n\n            \"ingredientAllergensIcons\": null,\n\n            \"quantity\": null\n\n          },\n\n          {\n\n            \"id\": \"0a973b64-9aae-4190-8646-b12b00b03bbc\",\n\n            \"name\": \"tortiglioni pasta\",\n\n            \"size\": \"g\",\n\n            \"isBasic\": false,\n\n            \"organic\": false,\n\n            \"imgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1MJv0000000Jx7MAE_280x280.jpg\",\n\n            \"allergies\": \"gluten\",\n\n            \"ingredientAllergensIcons\": [\n\n              {\n\n                \"iconName\": \"gluten\",\n\n                \"allergenName\": \"gluten\"\n\n              }\n\n            ],\n\n            \"quantity\": \"200\"\n\n          },\n\n          {\n\n            \"id\": \"d55d08b9-37f1-46d0-b1ac-b12b00b03bbc\",\n\n            \"name\": \"pompoenblokjes\",\n\n            \"size\": \"g\",\n\n            \"isBasic\": false,\n\n            \"organic\": false,\n\n            \"imgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1M1n000008wBdkEAE_280x280.jpg\",\n\n            \"allergies\": null,\n\n            \"ingredientAllergensIcons\": null,\n\n            \"quantity\": \"400\"\n\n          },\n\n          {\n\n            \"id\": \"b2c7710e-9861-4169-9e4d-b12b00b03bbc\",\n\n            \"name\": \"olijfolie\",\n\n            \"size\": \"\",\n\n            \"isBasic\": true,\n\n            \"organic\": false,\n\n            \"imgUrl\": null,\n\n            \"allergies\": null,\n\n            \"ingredientAllergensIcons\": null,\n\n            \"quantity\": null\n\n          },\n\n          {\n\n            \"id\": \"4c6ba331-0145-40fd-a7cf-b12b00b03bbc\",\n\n            \"name\": \"knoflook\",\n\n            \"size\": \"teentje\",\n\n            \"isBasic\": false,\n\n            \"organic\": false,\n\n            \"imgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1MJv0000001sPmMAI_280x280.jpg\",\n\n            \"allergies\": null,\n\n            \"ingredientAllergensIcons\": null,\n\n            \"quantity\": \"1\"\n\n          },\n\n          {\n\n            \"id\": \"b2108f35-140b-43a3-9c61-b12b00b03bbc\",\n\n            \"name\": \"geraspte cheddar\",\n\n            \"size\": \"g\",\n\n            \"isBasic\": false,\n\n            \"organic\": false,\n\n            \"imgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1MJv000000JXoHMAW_280x280.jpg\",\n\n            \"allergies\": \"melk\",\n\n            \"ingredientAllergensIcons\": [\n\n              {\n\n                \"iconName\": \"milk\",\n\n                \"allergenName\": \"melk\"\n\n              }\n\n            ],\n\n            \"quantity\": \"75\"\n\n          },\n\n          {\n\n            \"id\": \"b9058388-df70-434b-afe6-b12b00b03bbc\",\n\n            \"name\": \"gemengd gehakt (rund/varken)\",\n\n            \"size\": \"g\",\n\n            \"isBasic\": false,\n\n            \"organic\": false,\n\n            \"imgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1MJv000000HbeHMAS_280x280.jpg\",\n\n            \"allergies\": null,\n\n            \"ingredientAllergensIcons\": null,\n\n            \"quantity\": \"300\"\n\n          },\n\n          {\n\n            \"id\": \"95de9cca-b6a0-49f2-a723-b12b00b03bbc\",\n\n            \"name\": \"bio zure room\",\n\n            \"size\": \"g\",\n\n            \"isBasic\": false,\n\n            \"organic\": true,\n\n            \"imgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1M1n000008wApIEAU_280x280.jpg\",\n\n            \"allergies\": \"melk\",\n\n            \"ingredientAllergensIcons\": [\n\n              {\n\n                \"iconName\": \"milk\",\n\n                \"allergenName\": \"melk\"\n\n              }\n\n            ],\n\n            \"quantity\": \"150\"\n\n          },\n\n          {\n\n            \"id\": \"81fe6a67-43e8-4d49-bc1d-b12b00b03bbc\",\n\n            \"name\": \"bakpapier\",\n\n            \"size\": \"\",\n\n            \"isBasic\": true,\n\n            \"organic\": false,\n\n            \"imgUrl\": null,\n\n            \"allergies\": null,\n\n            \"ingredientAllergensIcons\": null,\n\n            \"quantity\": null\n\n          }\n\n        ],\n\n        \"allergies\": \"gluten, melk\",\n\n        \"recipeFilename\": \"a0MJv000002YcOHMA0-NL-2P.pdf\",\n\n        \"recipeFriendlyFilename\": \"Mac 'n cheese-2P.pdf\",\n\n        \"supplierTitle\": \"Dekeyser-Ossaer\",\n\n        \"supplierImgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1M1n000008wCYWEA2_920x920.jpg\",\n\n        \"supplierSubtitle\": \"Een warme familie\",\n\n        \"supplierText\": \"Dekeyzer-Ossaer startte in 1980 met een kleine slagerij in Koekelare. Vandaag bouwen ouders Johan en Marie-Rose samen met hun zonen Kurt, Stijn, Steven en Kevin dag in dag uit verder aan een groots verhaal waarbij duurzaamheid, innovatie en lokale productie centraal staan. Dagvers vlees van de beste kwaliteit, dat proef je!\",\n\n        \"directions\": \"Breng een ruime pot gezouten water aan de kook voor de pasta.|Verwarm de oven voor op 220°C en bedek een bakplaat met bakpapier.|Schik de pompoenblokjes op de bakplaat en pers de knoflook erbij. Hussel door elkaar met olijfolie, zout en zwarte peper. Rooster in 20 min. gaar in de oven.|Verhit een scheutje olijfolie in een pan op hoog vuur. Bak het gehakt in 6-8 min. Prak met een spatel in \\\"chunks\\\", het hoeft niet helemaal fijn te zijn.|Kook de pasta volgens de instructies op de verpakking.|Schik de geroosterde pompoen in een blender of maatbeker en mix, samen met de zure room en de helft van de geraspte cheddar, tot een gladde saus. Proef en breng op smaak met extra zout of zwarte peper (zie tip).|Giet de pasta af en schik opnieuw in de pot. Meng met de roomsaus en het gehakt. Stort in een ovenschaal en strooi de rest van de kaas erover. Gratineer nog 5-10 min. in de oven voor een mooi kaaskorstje.\",\n\n        \"tip\": \"Geef de saus wat extra punch met paprikapoeder, chilivlokken of bouillon.\",\n\n        \"allergiesSummary\": \"Bevat gluten, melk\"\n\n      }\n\n    ],\n\n    \"preparedDish\": false,\n\n    \"preparationMicrowave\": false,\n\n    \"preparationOven\": false,\n\n    \"preparationCold\": false,\n\n    \"chefImgUrl\": \"https://s3.eu-west-2.amazonaws.com/smartmat-production/a1M1n000008wBo4EAE_920x920.jpg\",\n\n    \"chefName\": \"Chef Claire\",\n\n    \"nutriValue100g\": \"{\\\"Items\\\":[{\\\"Name\\\":\\\"energie\\\",\\\"Value\\\":\\\"159.00 kcal\\\",\\\"SubItems\\\":null},{\\\"Name\\\":\\\"vetten\\\",\\\"Value\\\":\\\"8.51 g\\\",\\\"SubItems\\\":[{\\\"Name\\\":\\\"waarvan verzadigd\\\",\\\"Value\\\":\\\"4.34 g\\\",\\\"SubItems\\\":null}]},{\\\"Name\\\":\\\"koolhydraten\\\",\\\"Value\\\":\\\"13.01 g\\\",\\\"SubItems\\\":[{\\\"Name\\\":\\\"waarvan suikers\\\",\\\"Value\\\":\\\"1.48 g\\\",\\\"SubItems\\\":null}]},{\\\"Name\\\":\\\"voedingsvezels\\\",\\\"Value\\\":\\\"0.93 g\\\",\\\"SubItems\\\":null},{\\\"Name\\\":\\\"eiwitten\\\",\\\"Value\\\":\\\"7.28 g\\\",\\\"SubItems\\\":null},{\\\"Name\\\":\\\"zout\\\",\\\"Value\\\":\\\"0.36 g\\\",\\\"SubItems\\\":null}]}\",\n\n    \"nutriValue2p\": \"{\\\"Items\\\":[{\\\"Name\\\":\\\"energie\\\",\\\"Value\\\":\\\"1070.95 kcal\\\",\\\"SubItems\\\":null},{\\\"Name\\\":\\\"vetten\\\",\\\"Value\\\":\\\"57.29 g\\\",\\\"SubItems\\\":[{\\\"Name\\\":\\\"waarvan verzadigd\\\",\\\"Value\\\":\\\"29.25 g\\\",\\\"SubItems\\\":null}]},{\\\"Name\\\":\\\"koolhydraten\\\",\\\"Value\\\":\\\"87.60 g\\\",\\\"SubItems\\\":[{\\\"Name\\\":\\\"waarvan suikers\\\",\\\"Value\\\":\\\"9.97 g\\\",\\\"SubItems\\\":null}]},{\\\"Name\\\":\\\"voedingsvezels\\\",\\\"Value\\\":\\\"6.27 g\\\",\\\"SubItems\\\":null},{\\\"Name\\\":\\\"eiwitten\\\",\\\"Value\\\":\\\"49.05 g\\\",\\\"SubItems\\\":null},{\\\"Name\\\":\\\"zout\\\",\\\"Value\\\":\\\"2.44 g\\\",\\\"SubItems\\\":null}]}\",\n\n    \"hasRecipe\": true,\n\n    \"primaryTagIds\": [\n\n      \"38d7bb67-0ebf-489b-83f4-b12b00b03a85\"\n\n    ],\n\n    \"ingredientsInfo\": null\n\n  },\n\n  \"secondaryTags\": [\n\n    {\n\n      \"id\": \"9c9f5b16-d2f5-412d-ba49-b12b00b03a85\",\n\n      \"name\": \"Zonder noten\",\n\n      \"sequence\": 3\n\n    },\n\n    {\n\n      \"id\": \"57ce1aaa-f884-4df1-b04c-b12b00b03a85\",\n\n      \"name\": \"Zonder pinda\",\n\n      \"sequence\": 4\n\n    },\n\n    {\n\n      \"id\": \"01f96657-17a9-4d7b-a68a-b12b00b03a85\",\n\n      \"name\": \"Zonder ei\",\n\n      \"sequence\": 5\n\n    },\n\n    {\n\n      \"id\": \"cc2e63a6-8cc4-481a-a07e-b12b00b03a85\",\n\n      \"name\": \"Zonder vis\",\n\n      \"sequence\": 6\n\n    },\n\n    {\n\n      \"id\": \"852de838-0c14-4915-b845-b12b00b03a85\",\n\n      \"name\": \"Zonder schaaldieren\",\n\n      \"sequence\": 7\n\n    },\n\n    {\n\n      \"id\": \"b78bb729-a662-4f2d-b86d-b12b00b03a85\",\n\n      \"name\": \"Zonder weekdieren\",\n\n      \"sequence\": 8\n\n    },\n\n    {\n\n      \"id\": \"6b73dbe2-ffed-4981-bd99-b12b00b03a85\",\n\n      \"name\": \"Zonder soja\",\n\n      \"sequence\": 9\n\n    },\n\n    {\n\n      \"id\": \"a4b3f457-251d-41f4-89ff-b12b00b03a85\",\n\n      \"name\": \"Zonder mosterd\",\n\n      \"sequence\": 10\n\n    },\n\n    {\n\n      \"id\": \"667f6d68-8de1-4f97-9458-b12b00b03a85\",\n\n      \"name\": \"Zonder selderij\",\n\n      \"sequence\": 11\n\n    },\n\n    {\n\n      \"id\": \"05e4b271-cd4e-418a-9636-b12b00b03a85\",\n\n      \"name\": \"Zonder sulfiet\",\n\n      \"sequence\": 12\n\n    },\n\n    {\n\n      \"id\": \"423389c3-d3da-4533-b50f-b12b00b03a85\",\n\n      \"name\": \"Zonder lupine\",\n\n      \"sequence\": 13\n\n    },\n\n    {\n\n      \"id\": \"66d5d5f9-0948-4556-bfbc-b12b00b03a85\",\n\n      \"name\": \"Zonder sesamzaad\",\n\n      \"sequence\": 14\n\n    }\n\n  ],\n\n  \"primaryTags\": [\n\n    {\n\n      \"id\": \"38d7bb67-0ebf-489b-83f4-b12b00b03a85\",\n\n      \"name\": \"Quick&Easy\",\n\n      \"sequence\": 3,\n\n      \"styleName\": \"quick-easy\",\n\n      \"tagPriority\": \"5\"\n\n    }\n\n  ]\n\n}"
	s, f := prepareSpecial([]byte(data))

	got, err := s.Scrape("https://www.foodbag.be/nl/recept/?dishId=a0MJv000002YcOHMA0&portion=2", f)
	if err != nil {
		t.Fatal(err)
	}

	want := models.RecipeSchema{
		AtContext:   "https://schema.org",
		AtType:      models.SchemaType{Value: "Recipe"},
		CookTime:    "PT30M",
		Description: models.Description{Value: "Deze week neem ik je nog een keertje mee op skivakantie! Of toch naar de après-ski maaltijd. De pompoenblokjes zijn al voorgesneden en mixen we door de saus. Daardoor kleurt die ook mooi oranje!"},
		Image: models.Image{
			Value: "https://s3.eu-west-2.amazonaws.com/smartmat-production/a1MJv000000YqYrMAK_920x920.jpg",
		},
		Ingredients: models.Ingredients{
			Values: []string{
				"zout en zwarte peper",
				"400 g tortiglioni pasta",
				"800 g pompoenblokjes",
				"olijfolie",
				"2 teentjes knoflook",
				"125 g geraspte cheddar",
				"600 g gemengd gehakt (rund/varken)",
				"300 g bio zure room",
				"bakpapier"},
		},
		Instructions: models.Instructions{
			Values: []string{
				"Breng een ruime pot gezouten water aan de kook voor de pasta.",
				"Verwarm de oven voor op 220°C en bedek een bakplaat met bakpapier.",
				"Schik de pompoenblokjes op de bakplaat en pers de knoflook erbij. Hussel door elkaar met olijfolie, zout en zwarte peper. Rooster in 20 min. gaar in de oven.",
				`Verhit een scheutje olijfolie in een pan op hoog vuur. Bak het gehakt in 6-8 min. Prak met een spatel in "chunks", het hoeft niet helemaal fijn te zijn.`,
				"Kook de pasta volgens de instructies op de verpakking.",
				"Schik de geroosterde pompoen in een blender of maatbeker en mix, samen met de zure room en de helft van de geraspte cheddar, tot een gladde saus. Proef en breng op smaak met extra zout of zwarte peper (zie tip).",
				"Giet de pasta af en schik opnieuw in de pot. Meng met de roomsaus en het gehakt. Stort in een ovenschaal en strooi de rest van de kaas erover. Gratineer nog 5-10 min. in de oven voor een mooi kaaskorstje.",
			},
		},
		Keywords: models.Keywords{Values: "Quick&Easy"},
		Name:     "Mac 'n cheese met gehakt en pompoen",
		NutritionSchema: models.NutritionSchema{
			Calories:      "159.00 kcal",
			Carbohydrates: "13.01 g",
			Fat:           "8.51 g",
			Fiber:         "0.93 g",
			Protein:       "7.28 g",
		},
		PrepTime: "PT10M",
		Yield:    models.Yield{Value: 4},
		URL:      "https://www.foodbag.be/nl/recept/?dishId=a0MJv000002YcOHMA0&portion=2",
	}
	if !cmp.Equal(got, want) {
		t.Logf(cmp.Diff(got, want))
		t.Fatal()
	}
}
